<div class="container">
  <table class="table table-bordered" style="text-align: center">
    <thead class="table-primary">
      <tr>
        <th>고객 ID</th>
        <th>고객명</th>
        <th>상품 ID</th>
        <th>상품명</th>
        <th>구매일</th>
        <th>가격</th>
        <th>포인트</th>
        <th>구매량</th>
        <th>총가격</th>
        <th>지불여부</th>
        <th>취소여부</th>
        <th>환불여부</th>
        <th>수정</th>
        <th>삭제</th>
      </tr>
    </thead>
    <tbody>
      <% if (pur.length > 0) { %> <% pur.forEach((purchase) => { %>
      <tr>
        <td><%= purchase.loginid %></td>
        <td><%= purchase.person_name %></td>
        <td><%= purchase.mer_id %></td>
        <td><%= purchase.product_name %></td>
        <td><%= purchase.date %></td>
        <td><%= purchase.price.toLocaleString('ko-KR') %> 원</td>
        <td><%= purchase.point.toLocaleString('ko-KR') %></td>
        <td><%= purchase.qty %></td>
        <td><%= purchase.total.toLocaleString('ko-KR') %> 원</td>
        <td><%= purchase.payYN %></td>
        <td><%= purchase.cancel %></td>
        <td><%= purchase.refund %></td>
        <td>
          <!-- 수정 버튼 -->
          <form
            action="/purchase/view/update/<%= purchase.purchase_id %>"
            method="get"
          >
            <button type="submit" class="btn btn-primary btn-sm">수정</button>
          </form>
        </td>
        <td>
          <!-- 삭제 버튼 -->
          <form
            action="/purchase/view/delete/<%= purchase.purchase_id %>"
            method="post"
          >
            <button
              type="submit"
              class="btn btn-danger btn-sm"
              onclick="return confirm('이 항목을 삭제하시겠습니까?');"
            >
              삭제
            </button>
          </form>
        </td>
      </tr>
      <% }) %> <% } else { %>
      <tr>
        <td colspan="14">구매 기록이 없습니다.</td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>
